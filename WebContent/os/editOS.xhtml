<ui:composition template="/WEB-INF/template/layout.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui"
>

<ui:define name="conteudo">

<h:form>

<h2>Atualizando Ordem de Serviço</h2>

<p:growl id="growl" life="2000" />

<h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
		
		<p:outputLabel value="Cliente: " for="cli" />
		<p:selectOneMenu id="cli" value="#{osBean.osEdit.cliente.id}" >
					<f:selectItem itemLabel="Selecione um cliente" itemValue=""/>
					<f:selectItems value="#{cliBean.clientes}" var="c" itemValue="#{c.id}" itemLabel="#{c.nome}"/>
		</p:selectOneMenu>
		
		<p:outputLabel value="Técnico: " for="tec" />
		<p:selectOneMenu id="tec" value="#{osBean.osEdit.funcionario.id}" required="true" requiredMessage="Informe um técnico...">>
					<f:selectItem itemLabel="Altere um Técnico habilitado" itemValue=""/>
					<f:selectItems value="#{funcBean.tecnicos}" var="t" itemValue="#{t.id}" itemLabel="#{t.nome}"/>
		</p:selectOneMenu>
		
		<p:outputLabel value="Descrição: " for="desc" />		
		<p:inputText id="desc" value="#{osBean.osEdit.descricao}" 
			required="true" requiredMessage="Descreva o problema...">
		</p:inputText>
		
		<p:outputLabel value="Status: " for="st" />
		<p:selectOneMenu id="st" value="#{osBean.osEdit.status}" >
					<f:selectItem itemLabel="Altere o Status" itemValue=""/>
					<f:selectItems value="#{osBean.statuses}"/>
		</p:selectOneMenu>
		
		<p:outputLabel value="Prioridade: " for="pr" /> 
		<p:selectOneMenu id="pr" value="#{osBean.osEdit.prioridade}" required="true">
					<f:selectItem itemLabel="Altere a Prioridade" itemValue=""/>
					<f:selectItems value="#{osBean.prioridade}"/>
		</p:selectOneMenu>
		
<!-- 		<p:outputLabel value="Prioridade: " for /> 
		<p:inputText id="prio" required="true" value="#{osBean.osEdit.prioridade}" validatorMessage="Apenas numero" />  -->
		
		<p:outputLabel value="Valor do Serviço: "/>
		<p:outputLabel value="R$ #{osBean.osEdit.valorServico}" />
		
		<p:commandButton value="Atualizar OS" actionListener="#{osBean.atualizarOS}" id="actOS" update="growl" />
		
		</h:panelGrid>
	</h:form>
</ui:define>	

</ui:composition>